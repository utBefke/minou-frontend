<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Premium Weighted Swipe Demo</title>
<style>
body {
  margin: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  background: #111;
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
}

.phone {
  width: 360px;
  height: 640px;
  border: 4px solid red;
  border-radius: 24px;
  overflow: hidden;
  position: relative;
  box-shadow: 0 20px 50px rgba(0,0,0,0.5);
  touch-action: none;
}

.page {
  position: absolute;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  transition: none;
  backface-visibility: hidden;
  box-shadow: 0 20px 50px rgba(0,0,0,0.5);
}

/* Content wrapper for staggered scaling */
.page .content {
  text-align: center;
  color: white;
  font-size: 24px;
  font-weight: 600;
  padding: 20px;
  transform-origin: center center;
}

/* Gesture overlay */
.gesture {
  position: absolute;
  inset: 0;
  z-index: 10;
}

/* Luxury colors */
.page1 { background: linear-gradient(160deg,#2c2c2c,#1a1a1a); }
.page2 { background: linear-gradient(160deg,#0b1f4c,#001f3f); }
.page3 { background: linear-gradient(160deg,#3a2c1a,#5c451f); }
</style>
</head>
<body>

<div class="phone">
  <div class="page page1 current">
    <div class="content">
      <h1>Welcome</h1>
      <p>Time is luxury. Swipe up to discover curated connections.</p>
    </div>
  </div>
  <div class="page page2">
    <div class="content">
      <h1>Intentional Connections</h1>
      <p>Every swipe has weight. Every moment counts.</p>
    </div>
  </div>
  <div class="page page3">
    <div class="content">
      <h1>Meet Your Match</h1>
      <p>Engage deliberately. Experience intention.</p>
    </div>
  </div>
  <div class="gesture"></div>
</div>

<script>
const phone = document.querySelector('.phone');
const pages = Array.from(phone.querySelectorAll('.page'));
const gesture = phone.querySelector('.gesture');

let startY = 0;
let delta = 0;
let active = false;
let currentIndex = 0;
const threshold = 100;

function updatePages() {
  pages.forEach((p, i) => {
    const content = p.querySelector('.content');
    if (i === currentIndex) {
      p.style.transform = 'translateY(0) scale(1)';
      p.style.opacity = 1;
      p.style.filter = 'blur(0)';
      p.style.zIndex = 2;
      content.style.transform = 'scale(1)';
    } else if (i < currentIndex) {
      p.style.transform = 'translateY(-40px) scale(0.9)';
      p.style.opacity = 0;
      p.style.filter = 'blur(6px)';
      p.style.zIndex = 1;
      content.style.transform = 'scale(0.9)';
    } else {
      p.style.transform = 'translateY(40px) scale(0.9)';
      p.style.opacity = 0;
      p.style.filter = 'blur(6px)';
      p.style.zIndex = 1;
      content.style.transform = 'scale(0.9)';
    }
  });
}

updatePages();

gesture.addEventListener('pointerdown', e => {
  startY = e.clientY;
  active = true;
});

gesture.addEventListener('pointermove', e => {
  if (!active) return;
  delta = e.clientY - startY;
  const direction = delta < 0 ? 1 : -1;
  const nextIndex = currentIndex + direction;
  if (nextIndex < 0 || nextIndex >= pages.length) return;

  const progress = Math.min(Math.abs(delta)/300, 1);

  const currentPage = pages[currentIndex];
  const targetPage = pages[nextIndex];
  const currentContent = currentPage.querySelector('.content');
  const targetContent = targetPage.querySelector('.content');

  // Weighted motion: page scale, blur, translation
  currentPage.style.transform = `translateY(${delta*0.15}px) scale(${1 - progress*0.1})`;
  currentPage.style.opacity = `${1 - progress}`;
  currentPage.style.filter = `blur(${progress*6}px)`;
  currentPage.style.zIndex = 2;
  
  // Content scales slightly delayed
  currentContent.style.transform = `scale(${1 - progress*0.1})`;

  targetPage.style.transform = `translateY(${delta < 0 ? 40 - progress*40 : -40 + progress*40}px) scale(${0.9 + progress*0.1})`;
  targetPage.style.opacity = progress;
  targetPage.style.filter = `blur(${(1 - progress)*6}px)`;
  targetPage.style.zIndex = 3;
  
  // Target content scales with a slight delay to create layered reveal
  targetContent.style.transform = `scale(${0.9 + progress*0.1})`;
});

gesture.addEventListener('pointerup', () => {
  active = false;
  const direction = delta < 0 ? 1 : -1;
  const nextIndex = currentIndex + direction;

  if (Math.abs(delta) > threshold && nextIndex >= 0 && nextIndex < pages.length) {
    currentIndex = nextIndex;
  }

  pages.forEach(p => {
    p.style.transition = 'all 600ms cubic-bezier(.25,0,.35,1)';
    p.querySelector('.content').style.transition = 'transform 600ms cubic-bezier(.25,0,.35,1)';
  });

  updatePages();
  delta = 0;

  setTimeout(() => {
    pages.forEach(p => p.style.transition = '');
    pages.forEach(p => p.querySelector('.content').style.transition = '');
  }, 600);
});
</script>

</body>
</html>
